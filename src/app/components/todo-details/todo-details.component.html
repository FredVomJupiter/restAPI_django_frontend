<div class="detail-overlay" [class.visible]="this.oS.detailOverlayVisible" (click)="close()">

    <section (click)="noBubble($event)" *ngIf="oS.currentTodo != null">
        <button class="close-btn" (click)="close()">CLOSE</button>

        <div class="container">
            <div *ngFor="let cat of this.dataService.categories$ |async">
                <span *ngIf="cat.id === oS.currentTodo.category" class="category" [style.background]="cat.color"><b>{{ cat.name }}</b></span>
            </div>
            

            <p>Title: <b>{{ oS.currentTodo.title }}</b></p>

            <p>Description: <b>{{ oS.currentTodo.description }}</b></p>

            <div class="row">
                <p>Status: <b *ngIf="oS.currentTodo.completed">Done ✅</b>
                    <b *ngIf="!oS.currentTodo.completed">Todo 📋</b>
                </p>

                <p>Priority:
                    <b *ngIf="oS.currentTodo.priority.name === 'High'">High 🔴</b>
                    <b *ngIf="oS.currentTodo.priority.name === 'Medium'">Medium 🟠</b>
                    <b *ngIf="oS.currentTodo.priority.name === 'Low'">Low 🟡</b>
                </p>
            </div>

            <p>Due date: <b>{{ oS.currentTodo.due_date | date }}</b></p>

            <div class="margin">
                <span>Assigned to: <div class="dude"><b *ngFor="let dude of oS.currentTodo.assigned_to">{{ dude.name
                            }}</b></div></span>
            </div>

            <div>
                <p>Subtasks: </p>
                <span class="flex-row" *ngFor="let sub of oS.currentTodo.subtask"><b>{{ sub.title }} </b>
                    <div *ngIf="sub.completed">Done ✅</div>
                    <div *ngIf="!sub.completed">Todo 📋</div>
                </span>
            </div>

        </div>

        <button (click)="openEditor()">EDIT 🖊️</button>


    </section>

</div>