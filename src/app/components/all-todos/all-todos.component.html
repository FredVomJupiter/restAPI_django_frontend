<section>
    <div class="row"><h1>Welcome Backstage</h1> <button (click)="logout()" class="logout-btn">LOGOUT</button></div>

    <h2>My Todos</h2>
    <button (click)="openForm()">ADD</button>

    <div *ngFor="let todo of this.dataService.todos$ | async" class="todo" (click)="viewTodo(todo)">
        <div *ngFor="let cat of this.dataService.categories$ | async">
            <p *ngIf="cat.id === todo.category" class="category" [style.background]="cat.color"><b>{{ cat.name }}</b></p>
        </div>
        
        <p>
            Title: <b>{{ todo.title }}</b>
        </p>
        <p>
            Description: <b>{{ todo.description }}</b>
        </p>

        <div class="row">
            <p>Status: <b *ngIf="todo.completed">Done âœ…</b>
                <b *ngIf="!todo.completed">Todo ðŸ“‹</b>
            </p>

            <p>Priority:
                <b *ngIf="todo.priority.name === 'High'">High ðŸ”´</b>
                <b *ngIf="todo.priority.name === 'Medium'">Medium ðŸŸ </b>
                <b *ngIf="todo.priority.name === 'Low'">Low ðŸŸ¡</b>
            </p>
        </div>

        <button (click)="delete(todo.id, $event)" class="delete-btn">DELETE</button>
    </div>


    <app-add-todo></app-add-todo>
    <app-todo-details></app-todo-details>
    <app-update-todos></app-update-todos>


</section>